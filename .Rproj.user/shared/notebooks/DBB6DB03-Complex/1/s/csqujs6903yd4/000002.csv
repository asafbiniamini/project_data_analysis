"0","dt_king_of <- friends %>% select(speaker,season,episode) %>%"
"0","  group_by(speaker,season,episode) %>%"
"0","  filter(grepl('Chandler Bing|Joey Tribbiani|Ross Geller|Rachel Green|Monica Geller|Phoebe Buffay', speaker)) %>%"
"0","  group_by(speaker,season,episode) %>%"
"0","  summarise(per_episode = n())"
"1","`summarise()` has grouped output by 'speaker', 'season'. You can override using the `.groups` argument.
"
"0","grade <- friends_info %>% select(season, episode, imdb_rating, us_views_millions)"
"0",""
"0","rank_speakers  <-  merge(dt_king_of,grade,by = c(""season"",""episode""))"
"0","rank_speakers <- rank_speakers %>% "
"0","  filter(!grepl('Sr.', speaker)) %>%"
"0","  group_by(season, episode) %>% "
"0","  mutate(rank = rank(per_episode)) %>%"
"0","  arrange(season, episode, rank)"
"0",""
"0","agg_rank <- rank_speakers %>% group_by(speaker) %>%"
"0","  summarize("
"0","    rate = sum(rank)"
"0","  ) "
"0",""
"0","ggplot(data = agg_rank, aes(speaker,rate)) +"
"0","  geom_col()"
